# File to create: src/main/resources/application-test.properties

# --- Server Settings (For Tests) ---
# Use a random available port. This prevents conflicts if your
# dev server is already running on a fixed port.
server.port=0

# --- Test Database Configuration ---
# We use a DIFFERENT database name (e.g., 'testdb') to ensure
# tests are completely isolated from the 'melidb' dev database.
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.username=sa
spring.datasource.password=12345
spring.datasource.driverClassName=org.h2.Driver

# --- JPA/Hibernate Settings ---
# This is the most important change for testing.
# 'create-drop' builds the database schema from scratch when
# tests start and completely DROPS (deletes) it when tests finish.
# This guarantees every test run starts with a clean, empty database.
spring.jpa.hibernate.ddl-auto=create-drop